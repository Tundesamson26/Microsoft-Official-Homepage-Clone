(window.webpackJsonp=window.webpackJsonp||[]).push([[169],{"/aNR":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var o=s("q1tI"),r=s.n(o),a=r.a.createElement;class n extends r.a.Component{render(){return a("svg",{className:this.props.className,viewBox:"0 0 448 512"},a("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM21.2 229.2H21c.1-.1.2-.3.3-.4 0 .1 0 .3-.1.4zm218 53.9V384h-31.4V281.3L128 128h37.3c52.5 98.3 49.2 101.2 59.3 125.6 12.3-27 5.8-24.4 60.6-125.6H320l-80.8 155.1z"}))}}},"3orJ":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var o=s("q1tI"),r=s.n(o),a=r.a.createElement;class n extends r.a.Component{render(){return a("svg",{className:this.props.className,viewBox:"0 0 448 512"},a("path",{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}))}}},"4Exu":function(e,t,s){"use strict";s.d(t,"a",(function(){return pe}));var o=s("q1tI"),r=s.n(o),a=s("i8i4"),n=s.n(a),i=s("MiOu"),l=s("u89N"),c=s("VqVs"),d=s("mlqF"),p=s("3nLt"),m=s("vSk/"),u=s("4kg8"),h=s.n(u),b=s("okNM"),g=s("slpv"),f=s("nsJ6"),w=s("z430"),x=s("FLa4"),v=s("slGX"),y=r.a.createElement;class k extends o.Component{constructor(...e){super(...e),this.state={submitDisabled:!1},this.closeModalOnESC=e=>{27===(e.keyCode||e.which)&&this.closeModal()},this.closeModal=()=>{this.setState({componentMounted:!1}),setTimeout(()=>{n.a.unmountComponentAtNode(document.getElementById("hn-modal"))},100)},this.handleInput=()=>{window.localStorage&&window.localStorage.setItem("post:"+this.props.postStore.post._id+":response",this.comment.value)},this.submitComment=async()=>{const e=this.props.userStore.currentUser,t=this.comment.value.trim();if(!e)return window.localStorage&&window.localStorage.setItem("pending-comment",!0),this.props.goToPublicationLogin("comment");t&&(this.setState({submitDisabled:!0}),await this.props.postStore.submitResponse(this.props.postStore.post._id,t)&&window.localStorage&&window.localStorage.removeItem("post:"+this.props.postStore.post._id+":response"),this.setState({submitDisabled:!1}),this.closeModal(),Object(x.a)("success","Your comment was added successfully!"))},this.logEvent=()=>{const e=this.props.userStore.currentUser,t=this.props.postStore.post,s={event_type:"comment_prompt_appeared",time:(new Date).getTime(),event_properties:{postId:t._id,cuid:t.cuid,slug:t.slug,isAnonymous:!e,publication:t.publication?t.publication._id:""}};e&&(s.user_id=e._id,s.user_properties={username:e.username,email:e.email,photo:e.photo||"",dateJoined:e.dateJoined||""}),Object(v.a)().sendEventToAmplitude(s)}}componentDidMount(){this.logEvent(),setTimeout(()=>{this.setState({componentMounted:!0})},100),document.addEventListener("keyup",this.closeModalOnESC)}componentWillUnmount(){n.a.unmountComponentAtNode(document.getElementById("hn-modal")),document.removeEventListener("keyup",this.closeModalOnESC)}render(){const e=this.props.userStore.currentUser;return y("div",{className:"fixed bottom-0 left-0 z-50 w-full mb-10",ref:e=>{this.modalRoot=e}},y("div",{className:`p-5 mx-auto transition-all duration-100 bg-white border rounded-lg shadow-lg ${this.state.componentMounted?"":"-mb-108"} md:p-10 dark:bg-brand-dark-grey-700 dark:border-brand-grey-800 border-brand-blue w-full md:w-3/4 feed-width`},y("div",{className:"flex flex-row items-start mb-10"},y("div",{className:"flex-1"},y("h3",{className:"mb-1 text-xl font-bold leading-snug tracking-tight md:text-2xl text-brand-grey-900 dark:text-brand-grey-200"},"What do you think about this article?"),y("p",{className:"text-lg tracking-tight text-brand-grey-700 dark:text-brand-grey-400"},"Add a comment to let the author know.")),y("div",{className:"ml-5"},e&&y("a",{href:`/@${e.username}`,className:"block w-12 h-12 mr-2 overflow-hidden rounded-full"},y("img",{className:"block w-full",src:Object(d.resizeImage)(e.photo,{w:200,h:200,c:"thumb"})}))),y("div",{className:"ml-5 text-brand-grey-700"},y(f.a,{className:"w-12 h-12 fill-current"}))),y(w.a,{onChange:this.handleInput,ref:e=>{this.comment=e},placeholder:"Share your thoughts\u2026",minRows:"4",className:"mb-5 text-lg input-text"}),y("div",{className:"flex flex-row justify-between"},y("button",{className:"button-transparent",onClick:this.closeModal},"Dismiss"),y("button",{className:"button-primary big",disabled:this.state.submitDisabled,onClick:this.submitComment},"Submit"))))}}var N=s("Wgwc"),S=s.n(N),P=s("xEQ+"),C=s.n(P),_=s("QgiU"),I=s.n(_),T=s("I631"),O=s.n(T),R=s("8y4a"),A=s("xhN0"),E=s("RQTc"),M=s("j9PU"),L=s("hZhK"),j=s("Fynz"),D=s("/aNR"),U=s("3orJ"),z=s("DbDt"),F=s("w6So"),$=s("Qi1R"),B=s("l4Ie"),W=s("qabK"),H=s("wMgF"),q=s("w87v"),Y=s("aRcY"),V=s("a6RD"),J=s.n(V),K=s("Brk0"),G=r.a.createElement;class Q extends r.a.Component{render(){return G("svg",{className:this.props.className,viewBox:"0 0 320 512"},G("path",{d:"M192 256c0 17.7-14.3 32-32 32s-32-14.3-32-32 14.3-32 32-32 32 14.3 32 32zm88-32c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm-240 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32z"}))}}var X,Z=s("CCYA"),ee=s("NyKC"),te=s("Fu4d"),se=s("Yhf+"),oe=s("lXuY"),re=s("DfbN"),ae=s("sxGJ"),ne=s.n(ae),ie=s("22ea"),le=s("aBix"),ce=r.a.createElement;S.a.extend(I.a),S.a.extend(O.a);const de=J()(()=>Promise.all([s.e(26),s.e(40)]).then(s.bind(null,"bU1z")),{ssr:!1,loadableGenerated:{webpack:()=>["bU1z"],modules:["react-joyride"]}});let pe=Object(b.b)("postStore")(X=Object(b.b)("userStore")(X=Object(b.c)(X=class extends r.a.Component{constructor(e,t){super(e,t),this.showExtraOptions=(e,t)=>{e.preventDefault(),this.setState({extraOption:t})},this.hideExtraOptions=e=>{e.preventDefault(),this.setState({extraOption:""})},this.changeAudioPlayBackRate=()=>{const e=[.5,1,1.25,1.5,1.75,2],t=e.length-1;let s=e.findIndex(e=>e===this.state.audioPlayBackRate),o=s+1>t?0:s+1;this.audioPlayer.playbackRate=parseFloat(e[o]),this.setState({audioPlayBackRate:parseFloat(e[o])})},this.initializeShareTooltip=()=>{window.addEventListener("mouseup",this.handleMouseUpEvent),window.addEventListener("mousedown",this.handleMouseDownEvent)},this.handleMouseUpEvent=e=>{const t=e.target.classList.length>0?e.target.classList.item(0):"";if(!this.postContent.contains(e.target)||["PRE","CODE"].includes(e.target.nodeName)||-1!==t.indexOf("hljs"))return;const s=this.shareTooltip,o=window.getSelection(),r=document.createRange();r.selectNode(document.getElementById("refNode1"));const a=document.createRange();if(a.selectNode(document.getElementById("refNode2")),!o.isCollapsed){const e=o.getRangeAt(0).getBoundingClientRect(),t=r.getBoundingClientRect(),n=a.getBoundingClientRect();s.style.top=100*(e.bottom-n.top)/(t.top-n.top)+"px",s.style.left=100*(e.left-n.left)/(t.left-n.left)+"px",this.setState({selectedText:o.toString()},()=>{s.classList.remove("hidden")})}},this.handleMouseDownEvent=e=>{if(this.shareTooltip.contains(e.target))return;const t=this.shareTooltip;this.setState({selectedText:"",copied:!1}),t.classList.add("hidden")},this.hasCommented=()=>{const e=this.props.postStore.post,t=this.props.userStore.currentUser;return!(!e||!t)&&e.responses.filter(e=>e.author._id===t._id).length>0},this.scrollListener=()=>{window.scrollY+300>=document.querySelector(".article-main-wrapper").clientHeight&&(this.hasReadArticle=!0,window.removeEventListener("scroll",this.scrollListener))},this.openAddCommentPrompt=e=>{n.a.render(ce(k,{userStore:this.props.userStore,postStore:this.props.postStore,goToPublicationLogin:this.props.goToPublicationLogin}),document.getElementById("hn-modal"))},this.shouldShowTour=async()=>{return(await Object(g.a)("utility/ajax/check-new-section-updates","post",{section:"react-bookmark-tour"})).show},this.closeTour=()=>{Object(g.a)("utility/ajax/update-new-section-updates","post",{section:"react-bookmark-tour"}).then(()=>{this.setState({startJoyride:!1})})},this.handleJoyrideCallback=e=>{const{status:t,index:s}=e,o=this.props.userStore.currentUser;if(0===s&&!this.tourAppeared){this.tourAppeared=!0;const e={user_id:o._id,event_type:"tour_appeared_spp",time:(new Date).getTime(),event_properties:{hostname:window.location.hostname,url:window.location.pathname,eventType:"tour_appeared_spp"},user_properties:{username:o.username,email:o.email,photo:o.photo||"",dateJoined:o.dateJoined||""}};Object(v.a)().sendEventToAmplitude(e)}if("finished"===t){this.closeTour(),Object(v.a)().updateUserOnAmplitude({user_id:o._id,user_properties:{$set:{tourCompletedSPP:!0}}});const e={user_id:o._id,event_type:"tour_taken_spp",time:(new Date).getTime(),event_properties:{hostname:window.location.hostname,url:window.location.pathname,eventType:"tour_taken_spp"},user_properties:{username:o.username,email:o.email,photo:o.photo||"",dateJoined:o.dateJoined||""}};Object(v.a)().sendEventToAmplitude(e)}},this.showTour=async()=>{if(this.state.startJoyride)return;if(window.innerWidth<1024)return;if(!this.props.userStore.currentUser)return;if(!(await this.shouldShowTour()))return;const e=await this.props.userStore.fetchUserActions();if(e.reacted&&e.bookmarked)return;const t=[];e.reacted||t.push({target:".btn-reaction-spp",content:"Click here to appreciate posts you find interesting. It motivates authors and helps them produce more such content for you."}),e.bookmarked||t.push({target:".btn-bookmark-spp",content:"Found an interesting article, but don't have time to read it now? Save it for later by clicking on the bookmark button."}),this.setState({tourSteps:t,startJoyride:!0})},this.showShareWidget=e=>{e.preventDefault(),this.setState({showShareWidget:!0}),document.addEventListener("click",this.hideShareWidget),document.addEventListener("touchend",this.hideShareWidget)},this.hideShareWidget=e=>{this.shareWidget&&!this.shareWidget.contains(e.target)&&(e.preventDefault(),this.setState({showShareWidget:!1}),document.removeEventListener("click",this.hideShareWidget),document.removeEventListener("touchend",this.hideShareWidget))},this.sortResponse=async(e,t)=>{const s="recent"===t?"dateAdded":"totalReactions";this.setState({selectedFilter:s,sortingInProgress:!0}),this.props.resetPage();const o=this.props.postStore.post;await this.props.postStore.fetchResponses(o._id,1,s,!1),this.setState({sortingInProgress:!1})},this.postShared=e=>{const t=this.props.postStore.post,s=this.props.userStore.currentUser;if(!s)return;const o={user_id:s._id,event_type:"post_shared_by_author",time:(new Date).getTime(),event_properties:{hostname:window.location.hostname,url:window.location.pathname,postCUID:t.cuid,socialMediaType:e}};Object(v.a)().sendEventToAmplitude(o)},this.handleTagClick=async(e,t)=>{e.preventDefault();const s=t.isActive?"https://hashnode.com/n/"+(t.mergedWith?t.mergedWith.slug:t.slug):"",o={event_type:"tag_clicked",time:(new Date).getTime(),event_properties:{hostname:window.location.hostname,url:window.location.pathname,cta:"tag_clicked",tag:t.mergedWith?t.mergedWith.slug:t.slug,postType:"story"}};await Object(v.a)().sendEventToAmplitude(o),window.location.href=s},this.state={selectedFilter:null,sortingInProgress:!1,enableSticky:!1,showAllSeriesPosts:!1,copied:!1,audioPlayBackRate:1}}componentDidMount(){this.props.postStore.post.hasLatex&&setTimeout((function(){Object(Y.a)(!0)}),500),window.innerWidth>1279&&this.setState({enableSticky:!0}),"true"===Object($.c)("showSharer")&&this.setState({showSharer:!0},()=>{const e=Object($.h)(window.location.href,"showSharer");history&&history.replaceState(null,"",e)}),setTimeout(()=>{Object($.a)()},500);const e=this.props.postStore.post.readTime;setTimeout(()=>{const e=this.props.userStore.currentUser&&this.props.postStore.post.author._id===this.props.userStore.currentUser._id,t=window.localStorage&&window.localStorage.getItem("post:"+this.props.postStore.post._id+":response");!this.hasReadArticle||e||t||this.hasCommented()||this.openAddCommentPrompt()},60*(e>4?e-2:e)*1e3),window.addEventListener("scroll",this.scrollListener);const t=this.props.postStore.post.partOfPublication&&this.props.postStore.post.publication.textSelectionSharerEnabled;(t||"undefined"===typeof t)&&(this.initializeShareTooltip(),this.clipboard=new ne.a("#text-sharer"),this.clipboard.on("success",()=>{this.setState({copied:!0}),Object(x.a)("success","Selected text has been copied successfully")}))}componentWillUnmount(){window.removeEventListener("mouseup",this.handleMouseUpEvent),window.removeEventListener("mousedown",this.handleMouseDownEvent)}render(){const e=this.props.postStore.post,t=this.props.userStore.currentUser,s=h.a.link(e.content,{twitter:!0,truncate:45,className:"autolinkedURL",replaceFn:function(e,t){switch(t.getType()){case"twitter":var s=t.getTwitterHandle();return'<a href="https://hashnode.com/@'+s+'" class="user-mention" target="_blank" rel="noopener noreferrer">@'+s+"</a>"}}}),o=e.tags.filter(e=>e.isActive&&e.isApproved),a=e.tags.filter(e=>!e.isActive||!e.isApproved),n=o.concat(a),u=this.props.postStore.seriesPosts;let b=-1;u.forEach((t,s)=>{t._id===e._id&&(b=s)});const g=u.map((t,s)=>{const o=t.partOfPublication?`https://${t.publication.domain?t.publication.domain:(t.publication.subdomain||t.publication.username)+".hashnode.dev"}/${t.slug}${"simple"===t.publication.urlPattern?"":"-"+t.cuid}`:`/post/${t.slug}-${t.cuid}`,r=!this.state.showAllSeriesPosts&&u.length>5&&s>=2&&s<u.length-2,a=e._id===t._id;if(!this.state.showAllSeriesPosts&&u.length>5&&2===s){const e=b>=2&&b<u.length-2;return ce("button",{key:t._id,onClick:()=>this.setState({showAllSeriesPosts:!0}),className:"blog-series-collapsible border-b dark:border-brand-grey-800 px-4 py-4 font-bold text-brand-grey-700 dark:text-brand-grey-300 flex flex-row items-center"},ce("div",{className:`w-8 h-8 rounded-full bg-brand mr-4 ${e?"text-white bg-brand-blue":"bg-brand-grey-200 text-brand-grey-700"}`},ce(Q,{className:"w-8 h-8 fill-current"})),ce("span",{className:e?"text-brand-blue":""}," Show all ",u.length-4," posts"))}return ce("div",{className:`blog-series-item flex flex-row flex-wrap items-center w-full border-b dark:border-brand-grey-700 ${r?"hidden":""}`,key:t._id},ce("div",{className:`blog-series-number w-8 h-8 flex flex-row items-center justify-center rounded-full mt-4 md:mt-0 ml-4 font-bold ${a?"text-white bg-brand-blue":"bg-brand-grey-200 text-brand-grey-700"}`},s+1),ce("div",{className:"w-full p-4 blog-series-content md:flex-1"},ce("h1",{className:"mb-1 text-lg font-bold leading-snug tracking-tight text-brand-black dark:text-white"},ce("a",{href:o,target:"_blank"},t.title.substring(0,100),t.title.length>100?"\u2026":"")),t.brief&&ce("p",{className:"text-base leading-snug text-brand-grey-700 dark:text-brand-grey-300"},ce("a",{href:o,target:"_blank"},t.brief.substring(0,100),t.brief.length>100?"\u2026":""))),t.coverImage&&ce("div",{className:"w-full p-4 blog-series-cover md:w-1/3"},ce("a",{href:o,className:"block bg-center bg-cover rounded post-cover",style:{backgroundImage:`url('${Object(d.resizeImage)(t.coverImage,{w:500,h:262,c:"thumb"})}')`}})))});var f=(n.length>0?n.map((function(e){return"#"+e.slug.replace("-","")})):[]).join(" ");""!==f.trim()&&(f="\n"+f);const w=this.props.morePosts.map(e=>{const t=e.partOfPublication?`https://${e.publication.domain?e.publication.domain:(e.publication.subdomain||e.publication.username)+".hashnode.dev"}/${e.slug}${"simple"===e.publication.urlPattern?"":"-"+e.cuid}`:`/post/${e.slug}-${e.cuid}`;return ce("div",{className:"w-full px-2 mb-5 blog-similar-article lg:w-1/3 lg:mb-0 dark:border-brand-grey-800",key:e._id},ce("div",{className:"h-full p-4 border rounded-lg blog-similar-article-wrapper dark:border-brand-grey-800"},e.author&&ce("div",{className:"flex flex-row items-center mb-4 blog-similar-author-wrapper"},ce("div",{className:"flex flex-row items-center"},ce("div",{className:"w-8 h-8 mr-2 overflow-hidden rounded-full"},ce(c.a,{user:e.author,className:"blog-similar-author-photo author-photo",hoverDisabled:this.props.isPublicationPost})),ce("a",{href:`https://hashnode.com/@${e.author.username}`,target:"_blank",className:"font-bold blog-similar-author-name"},e.author.name))),e.coverImage&&ce("a",{href:t,className:"block mb-5 bg-center bg-cover border rounded blog-similar-article-cover post-cover",style:{backgroundImage:`url('${Object(d.resizeImage)(e.coverImage,{w:500,h:262,c:"thumb"})}')`}}),ce("div",{className:"blog-post-details break-words"},ce("h1",{className:`${e.coverImage?"text-lg":"text-lg md:text-2xl"} font-bold tracking-tight leading-snug text-brand-black dark:text-white mb-2`},ce("a",{href:t,target:"_blank"},e.title.substring(0,100),e.title.length>100?"\u2026":"")),e.brief&&ce("p",{className:`${e.coverImage?"text-sm":"text-sm md:text-lg"} text-brand-grey-700 dark:text-brand-grey-300 text-sm`},ce("a",{href:t,target:"_blank"},e.brief.substring(0,100),e.brief.length>100?"\u2026":"")))))}),x=this.props.similarPosts.filter(e=>e._id!==this.props.postStore.post._id).slice(0,3).map(e=>{const t=e.partOfPublication?`https://${e.publication.domain?e.publication.domain:(e.publication.subdomain||e.publication.username)+".hashnode.dev"}/${e.slug}${"simple"===e.publication.urlPattern?"":"-"+e.cuid}`:`/post/${e.slug}-${e.cuid}`;return ce("div",{className:"w-full px-2 mb-5 blog-more-articles-wrapper lg:w-1/3 lg:mb-0 dark:border-brand-grey-800",key:e._id},ce("div",{className:"h-full p-4 border rounded-lg blog-similar-article-wrapper dark:border-brand-grey-800"},e.author&&ce("div",{className:"flex flex-row items-center mb-4 blog-similar-author-wrapper"},ce("div",{className:"flex flex-row items-center"},ce("div",{className:"w-8 h-8 mr-2 overflow-hidden rounded-full"},ce(c.a,{user:e.author,className:"blog-similar-author-photo author-photo",hoverDisabled:this.props.isPublicationPost})),ce("a",{href:`https://hashnode.com/@${e.author.username}`,target:"_blank",className:"font-bold"},e.author.name))),e.coverImage&&ce("a",{href:t,target:"_blank",className:"block mb-5 bg-center bg-cover border rounded blog-similar-article-cover post-cover",style:{backgroundImage:`url('${Object(d.resizeImage)(e.coverImage,{w:500,h:262,c:"thumb"})}')`}}),ce("div",{className:"blog-post-details break-words"},ce("h1",{className:`${e.coverImage?"text-lg":"text-lg md:text-2xl"} font-bold tracking-tight leading-snug text-brand-black dark:text-white mb-2`},ce("a",{target:"_blank",href:t},e.title.substring(0,100),e.title.length>100?"\u2026":"")),e.brief&&ce("p",{className:`${e.coverImage?"text-sm":"text-sm md:text-lg"} text-brand-grey-700 dark:text-brand-grey-300`},ce("a",{href:t,target:"_blank"},e.brief.substring(0,100),e.brief.length>100?"\u2026":"")))))}),v=e.partOfPublication?`https://${e.publication.domain?e.publication.domain:(e.publication.subdomain||e.publication.username)+".hashnode.dev"}/${e.slug}${"simple"===e.publication.urlPattern?"":"-"+e.cuid}`:`https://hashnode.com/post/${e.slug}-${e.cuid}`,y=e.title+"\r\n{ by "+(e.author.socialMedia.twitter?"@"+e.author.socialMedia.twitter.substring(e.author.socialMedia.twitter.lastIndexOf("/")+1).replace("@",""):e.author.name)+" } from @hashnode\r\n"+f,k=e.author.socialMedia.twitter||e.author.socialMedia.github,N=e.partOfPublication&&`https://cdn.hashnode.com/res/hashnode/image/upload/v1559814205701/ek9fO-yT0.jpeg?w=800&bm=normal&balph=100${e.publication.logo?`&mark64=${Base64.encodeURI(e.publication.logo)}&markw=500&markalign=middle,center`:`&txt64=${Base64.encodeURI(e.publication.title||e.publication.author.name+"'s Blog")}&txtsize=42&txtfit=max&txtalign=middle,center&txtfont=Helvetica Neue,Bold&txtclr=${"dark"===Object($.e)(e.publication.headerColor||"#ffffff")?"ffffff":"000000"}`}&blend=${e.publication.headerColor?e.publication.headerColor.substring(1):"ffffff"}`,P=!!e.partOfPublication&&(e.publication.textSelectionSharerEnabled||"undefined"===typeof e.publication.textSelectionSharerEnabled);return ce("main",{className:"pb-24 blog-post-detail-card"},this.props.userStore.currentUser&&(!this.props.isPublicationPost||this.props.dataFetchedFromOrigin)&&ce(de,{callback:this.handleJoyrideCallback,steps:this.state.tourSteps,run:this.state.startJoyride,continuous:!0,disableOverlayClose:!0,locale:{last:"Finish"}}),this.state.showSharer&&ce("div",{className:"fixed bottom-0 right-0 z-50 w-full px-6 pt-10 pb-6 pr-16 mx-auto bg-white border rounded-tl-lg shadow-xl md:w-96 dark:bg-brand-dark-grey-900 dark:border-brand-grey-800"},ce("div",{className:"flex flex-row items-center justify-center w-16 h-16 mb-4 -mt-20 text-white rounded-full shadow-lg bg-brand-blue"},ce(z.a,{className:"w-10 h-10 fill-current"})),ce("h2",{className:"mb-2 text-lg font-bold text-brand-grey-700 dark:text-white"},"That's a great write up, ",e.author.name,"!"),ce("p",{className:"mb-5 text-sm italic text-brand-grey-700 dark:text-brand-grey-300"},'"Knowledge is best when shared."'),ce("p",{className:"mb-4 text-sm font-medium text-brand-grey-800 dark:text-brand-grey-200"},"Tell the world about your new article for extra visibility. We recommend sharing on the following platforms."),ce("button",{onClick:()=>this.setState({showSharer:!1}),className:"absolute top-0 right-0 mt-2 mr-2 button-transparent"},ce(q.a,{className:"w-5 h-5 fill-current"})),ce("div",{className:"flex flex-row flex-wrap items-center"},ce("a",{onClick:()=>{this.postShared("reddit")},href:"http://www.reddit.com/submit?url="+encodeURIComponent(v)+"&title="+encodeURIComponent(e.title),target:"_blank",rel:"noopener noreferrer",className:"flex flex-row items-center mb-2 mr-2 text-white button-structure bg-rdit-variant"},ce(j.a,{className:"w-5 h-5 mr-1 fill-current"}),ce("span",null,"Reddit")),ce("a",{onClick:()=>{this.postShared("hackernews")},href:"http://news.ycombinator.com/submitlink?u="+encodeURIComponent(v)+"&t="+encodeURIComponent(e.title),target:"_blank",rel:"noopener noreferrer",className:"flex flex-row items-center mb-2 mr-2 text-white button-structure bg-brand-black"},ce(D.a,{className:"w-5 h-5 mr-1 fill-current"}),ce("span",null,"Hacker News")),ce("a",{onClick:()=>{this.postShared("twitter")},href:"https://twitter.com/share?url="+encodeURIComponent(v)+"&text="+encodeURIComponent(y),target:"_blank",rel:"noopener noreferrer",className:"flex flex-row items-center mb-2 mr-2 text-white button-structure bg-twt-variant"},ce(m.a,{className:"w-5 h-5 mr-1 fill-current"}),ce("span",null,"Twitter")),ce("a",{onClick:()=>{this.postShared("linkedin")},href:"https://www.linkedin.com/cws/share?url="+encodeURIComponent(v),target:"_blank",rel:"noopener noreferrer",className:"flex flex-row items-center mb-2 mr-2 text-white button-structure bg-fb-variant"},ce(L.a,{className:"w-5 h-5 mr-1 fill-current"}),ce("span",null,"LinkedIn")))),e.isDelisted&&!this.props.isPublicationPost&&ce("div",{className:"flex flex-row items-center px-6 py-4 mt-6 mb-6 bg-yellow-500 border rounded dark:bg-brand-grey-900 dark:border-yellow-500 dark:text-yellow-500"},ce("div",{className:"mr-8"},ce(B.a,{className:"w-10 h-10 fill-current"})),ce("div",null,ce("h3",{className:"mb-1 text-xl font-bold leading-snug tracking-tight"},"Post delisted"),ce("p",{className:"leading-snug"},"Hey there! We are sorry, Hashnode moderators think this post shouldn't be on Hashnode. If this is a mistake, please reach out to one of the moderators. "))),ce("article",{itemScope:!0,itemType:"http://schema.org/Article"},ce("div",{className:"relative z-40 flex flex-row flex-wrap justify-center blog-content-wrapper article-main-wrapper"},ce("section",{className:"relative z-20 px-4 mb-10 blog-content-main md:z-10 article-width xl:px-0 xl:pr-12",itemProp:"articleBody mainEntityOfPage"},!t&&!this.props.isPublicationPost&&ce("a",{href:"/onboard?unlock-blog=true",className:"flex flex-row flex-wrap items-center block p-5 my-5 border rounded-lg lg:flex-nowrap dark:bg-brand-dark-grey-900 dark:border-brand-grey-800"},ce("div",{className:"flex flex-row items-center w-full mb-5 mr-5 lg:w-auto lg:flex-1 lg:mb-0"},ce("div",{className:"flex-shrink-0 hidden mr-5 text-brand-blue md:block"},ce(oe.a,{className:"w-10 h-10 fill-current"})),ce("span",{className:"block text-lg font-bold leading-snug tracking-tight text-brand-black dark:text-brand-grey-200"},"Start a personal dev blog on your domain for free with Hashnode and grow your readership.")),ce("div",{className:"flex flex-row items-center"},ce("span",{className:"flex flex-row items-center whitespace-nowrap button-primary"},ce("span",null,"Get Started"),ce(se.a,{className:"w-5 h-5 ml-2 fill-current"})))),e.coverImage&&!e.stickCoverToBottom&&ce("section",{className:"bg-center bg-cover post-cover",style:{backgroundImage:"url("+Object(d.resizeImage)(e.coverImage,{w:1600,h:840,c:"thumb"})+")"}}),ce("div",{className:`prose dark:prose-dark lg:prose-lg xl:prose-xl mt-10 ${e.subtitle?"mb-2":"mb-10"}`},ce("h1",{itemProp:"headline name"},e.title)),e.subtitle&&ce("div",{className:"mb-10"},ce("h2",{className:"text-2xl leading-snug tracking-tight text-brand-grey-700 dark:text-brand-grey-400"},e.subtitle)),e.coverImage&&e.stickCoverToBottom&&ce("section",{className:"my-10 bg-center bg-cover post-cover",style:{backgroundImage:"url("+Object(d.resizeImage)(e.coverImage,{w:1600,h:840,c:"thumb"})+")"}}),!e.hideBadges&&e.badges&&ce("div",{className:"flex flex-row mb-5 -mt-5"},e.badges.filter(e=>"postFeaturedHN"===e.name).concat(e.badges.filter(e=>"postFeaturedHN"!==e.name)).map(e=>"postFeaturedHN"===e.name?ce("div",{key:e.badgeId,className:"flex flex-row items-center mr-2 overflow-hidden text-sm font-semibold leading-snug text-white rounded-md bg-brand-black hover:shadow"},ce("div",{className:"p-2 border-r border-brand-grey-900"},ce(Z.a,{className:"w-6 h-6 fill-current"})),ce("div",{className:"p-2"},"Featured on Hashnode")):"postFeaturedDD"===e.name?ce("div",{key:e.badgeId,className:"flex flex-row items-center mr-2 overflow-hidden text-sm font-semibold leading-snug text-white rounded-md bg-brand-black hover:shadow"},ce("div",{className:"p-2 border-r border-brand-grey-900"},ce(ee.a,{className:"w-6 h-6 fill-current"})),ce("div",{className:"p-2"},"Featured on daily.dev")):void 0)),e.coverImage&&ce("meta",{itemProp:"thumbnailUrl image",content:Object(d.resizeImage)(e.coverImage,{w:1600,h:840,c:"thumb"})}),ce("div",{className:"relative z-10 py-5 mb-5 border-t border-b md:mb-10 dark:border-brand-grey-800"},ce("div",{className:"flex flex-row justify-between"},ce("div",{className:"flex flex-row items-start md:items-center",itemProp:"author",itemScope:!0,itemType:"https://schema.org/Person"},ce("div",{className:"w-12 h-12 mr-2 overflow-hidden rounded-full md:w-16 md:h-16 md:mr-5"},ce(c.a,{user:e.author,width:"200",height:"200",className:"bg-brand-grey-200 dark:bg-brand-dark-grey-900",hoverDisabled:this.props.isPublicationPost})),ce("div",{className:"leading-snug"},ce("a",{href:`https://hashnode.com/@${e.author.username}`,className:"mb-1 text-lg font-bold text-brand-black dark:text-white",itemProp:"sameAs url"},ce("span",{itemProp:"name"},e.author.name)),ce("p",{className:"mb-2 text-sm text-brand-grey-600 dark:text-brand-grey-400"},ce("a",{href:v,className:"block tooltip-handle","data-title":`${S()(e.dateAdded).format("MMM D, YYYY HH:mm")}`},"Published on ",ce("span",{className:"font-semibold"},S()(e.dateAdded).format("MMM D, YYYY")))),ce("div",{className:"flex flex-row items-center"},e.author&&k&&ce("div",{className:"flex flex-row items-center mr-5 text-brand-grey-600 dark:text-brand-grey-400"},e.author.socialMedia.twitter&&ce("a",{href:e.author.socialMedia.twitter,itemProp:"sameAs",target:"_Blank",rel:"noopener",className:"mr-2"},ce(m.a,{className:"w-4 h-4 fill-current"})),e.author.socialMedia.github&&ce("a",{href:e.author.socialMedia.github,itemProp:"sameAs",target:"_Blank",rel:"noopener"},ce(p.a,{className:"w-4 h-4 fill-current"}))),(!e.partOfPublication||e.partOfPublication&&!e.publication.readTimeHidden)&&ce("p",{className:"flex flex-row items-center text-sm font-medium text-brand-grey-600 dark:text-brand-grey-400"},ce(H.a,{className:"w-4 h-4 mr-1 fill-current"}),ce("span",null,e.readTime," min read"))))),ce("div",null,t&&ce("div",{className:"flex flex-row"},(e.author&&e.author._id.toString()===t._id.toString()||-1!==["superuser"].indexOf(t.role))&&ce("a",{href:`https://hashnode.com/edit/${e.cuid}`,className:"flex-row items-center hidden button-transparent small md:flex"},ce(K.a,{className:"w-5 h-5 mr-2 fill-current"}),ce("span",null,"Edit")),ce(E.a,{context:"post",isPublicationPost:this.props.isPublicationPost,showExtraOptions:this.showExtraOptions,showLabel:!0})))),ce("meta",{itemProp:"dateCreated datePublished",content:e.dateAdded}),ce("meta",{itemProp:"dateModified",content:e.dateUpdated||e.dateAdded})),"report"===this.state.extraOption&&ce("div",{className:"mb-5"},ce(l.a,{hideExtraOptions:this.hideExtraOptions,post:e})),ce("div",{className:"relative"},e.partOfPublication&&e.publication&&e.publication.newsletterEnabled&&ce("div",{className:"p-4 mb-5 border rounded-lg bg-bluish-gray dark:bg-brand-dark-grey-800 dark:border-brand-grey-800 md:p-6"},ce(W.a,null)),e.partOfPublication&&e.publication&&e.publication.audioBlogEnabled&&e.audioUrl&&ce("div",{className:"flex flex-col items-center p-5 mb-5 text-white hsh-card bg-brand-black"},ce("div",{className:"flex flex-row items-center mb-3 font-semibold tracking-tight uppercase"},ce(le.a,{className:"w-6 h-6 mr-2 fill-current"}),ce("span",null,"Listen to this article")),ce("div",{className:"flex flex-row items-center w-full"},ce("audio",{ref:e=>this.audioPlayer=e,controls:!0,className:"flex-1 outline-none md:mr-5",controlsList:"nodownload"},ce("source",{src:e.audioUrl,type:"audio/mp3"}),"Your browser does not support the audio element."),ce("button",{onClick:this.changeAudioPlayBackRate,className:"flex-col items-center hidden p-2 text-xl font-semibold text-white md:flex hover:bg-brand-dark-grey-700"},ce("span",{className:"text-xs"},"SPEED"),ce("span",null,this.state.audioPlayBackRate,"X")))),s&&ce("div",{itemProp:"text",ref:e=>this.postContent=e,className:"mx-auto mb-10 prose break-words dark:prose-dark lg:prose-lg xl:prose-xl min-h-30",dangerouslySetInnerHTML:{__html:Object(d.imageReplacer)(s)},itemProp:"text"}),ce("div",{className:"flex flex-row items-center"},ce("div",{className:"flex-1"},n.length>0&&ce("div",{className:"flex flex-row flex-wrap w-full mb-4 md:mb-0"},n.map(function(e){return ce("a",{className:"tag",key:e._id,onClick:t=>{this.handleTagClick(t,e)},href:e.isActive?"https://hashnode.com/n/"+(e.mergedWith?e.mergedWith.slug:e.slug):""},ce("span",{className:"tag-name"},"#",e.slug))}.bind(this))))),!t&&!this.props.isPublicationPost&&ce("div",{className:"p-10 mt-10 bg-contain border rounded-lg text-brand-black dark:text-brand-grey-100 dark:bg-brand-dark-grey-900",style:{backgroundImage:"url('https://cdn.hashnode.com/res/hashnode/image/upload/v1606592068739/AP0fvFFZ_.png?auto=compress')"}},ce("a",{href:"/",className:"block w-56 mb-10"},ce(te.a,{className:"w-full fill-current"})),ce("a",{href:"/",className:"block mb-5 text-2xl font-extrabold leading-tight lg:w-2/3 text-brand-blue"},"Start a personal dev blog on your domain for free and grow your readership."),ce("p",{className:"mb-5 text-lg font-bold leading-snug lg:w-2/3"},"3.4K+ developers have started their personal blogs on Hashnode in the last one month."),ce("p",{className:"mb-5 font-mono text-sm leading-snug lg:w-2/3 text-brand-grey-700 dark:text-brand-grey-400"},"Write in Markdown \xb7 Publish articles on custom domain \xb7 Gain readership on day zero \xb7 Automatic GitHub backup and more"),ce("div",{className:"flex flex-row flex-wrap"},ce("a",{href:"/onboard?unlock-blog=true",className:"flex flex-row items-center mb-5 mr-5 md:mb-0 button-primary active big"},ce("span",null,"Start Your Personal Blog For Free"),ce(se.a,{className:"w-5 h-5 ml-2 fill-current"})),ce("a",{href:"/",className:"flex flex-row items-center button-transparent active big"},ce("span",null,"Learn more")))),P&&ce(r.a.Fragment,null,ce("div",{className:"absolute w-0 h-0 overflow-hidden -z-50",id:"refNode1",style:{top:"100px",left:"100px"}},"\xa0"),ce("div",{className:"absolute top-0 left-0 w-0 h-0 overflow-hidden -z-50",id:"refNode2"},"\xa0"),ce("div",{ref:e=>this.shareTooltip=e,className:"absolute z-50 hidden mt-4"},ce("div",{className:"hsh-card p-4 flex flex-row text-brand-grey-800 dark:text-brand-grey-300 items-center shadow-lg border-brand-grey-300 dark:border-white"},ce("span",{className:"block mr-3"},"Share this"),ce("a",{href:"https://twitter.com/share?url="+encodeURIComponent(v)+"&text="+encodeURIComponent(this.state.selectedText+` @${e.author.username}`),target:"_blank",rel:"noopener noreferrer",className:"button-transparent small text-twt-variant dark:text-twt-variant"},ce(m.a,{className:"w-6 h-6 fill-current"})),ce("a",{href:"http://www.reddit.com/submit?title="+encodeURIComponent(e.title)+"&selftext=true&text="+encodeURIComponent(this.state.selectedText+" "+v),target:"_blank",rel:"noopener noreferrer",className:"button-transparent small text-brand-red dark:text-brand-red"},ce(j.a,{className:"w-6 h-6 fill-current"})),ce("button",{"data-clipboard-text":this.state.selectedText+" "+v,id:"text-sharer",className:"button-transparent small"},this.state.copied?ce(ie.a,{className:"w-6 h-6 fill-current"}):ce(re.a,{className:"w-6 h-6 fill-current"}))))))),ce("div",{className:"relative z-10 w-full blog-content-sidebar md:z-20 xl:w-40 xl:h-full"},ce(C.a,{boundaryElement:".article-main-wrapper",disabled:!this.state.enableSticky,scrollElement:this.props.isPublicationPost?"window":".scroll-area"},ce("div",{className:"flex flex-col-reverse flex-wrap items-center justify-center w-full pb-10 xl:pb-0 xl:pt-16 xl:justify-start xl:flex-col"},ce(A.a,{dataFetchedFromOrigin:this.props.dataFetchedFromOrigin,context:"spp",postType:"story",isPublicationPost:this.props.isPublicationPost,goToPublicationLogin:this.props.goToPublicationLogin}),ce("div",{className:"relative z-30 flex flex-row mb-5 xl:mt-16 xl:flex-col xl:z-20"},ce("div",{className:"mr-4 xl:mb-8 xl:mr-0"},ce(F.a,{post:e,goToPublicationLogin:this.props.goToPublicationLogin,isPublicationPost:this.props.isPublicationPost,context:"spp"})),ce("div",{className:"mr-4 xl:mb-8 xl:mr-0"},ce("a",{href:"https://twitter.com/share?url="+encodeURIComponent(v)+"&text="+encodeURIComponent(y),target:"_blank",rel:"noopener noreferrer","data-title":t&&t._id.toString()===e.author._id.toString()?"Tweet It!":"Say Thanks!",className:"block button-transparent"},ce(m.a,{className:"w-6 h-6 opacity-75 fill-current"}))),ce("div",{className:"relative"},ce("a",{href:"#",className:"block button-transparent",onClick:this.showShareWidget},ce(z.a,{className:"w-6 h-6 opacity-75 fill-current"})),this.state.showShareWidget&&ce("div",{className:"absolute right-0 w-56 bg-white border rounded-lg shadow-lg dark:border-brand-grey-800 top-100 md:right-auto md:left-0 xl:left-auto xl:top-0 xl:-mt-16 xl:right-100 lg:w-72 dark:bg-brand-dark-grey-900",ref:e=>{this.shareWidget=e}},ce("div",{className:"flex flex-row flex-wrap w-full text-sm text-brand-grey-800 dark:text-white"},ce("a",{href:"https://twitter.com/share?url="+encodeURIComponent(v)+"&text="+encodeURIComponent(y),target:"_blank",rel:"noopener noreferrer",className:"flex flex-row items-center w-full p-4 lg:w-1/2 hover:bg-brand-grey-100 dark:hover:bg-brand-dark-grey-800"},ce("span",{className:"text-twitter"},ce(m.a,{className:"w-6 h-6 mr-2 fill-current"})),ce("span",null,"Tweet this")),ce("a",{href:"https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(v),target:"_blank",rel:"noopener noreferrer",className:"flex flex-row items-center w-full p-4 lg:w-1/2 hover:bg-brand-grey-100 dark:hover:bg-brand-dark-grey-800"},ce("span",{className:"text-fb-variant"},ce(M.a,{className:"w-6 h-6 mr-2 fill-current"})),ce("span",null,"Facebook")),ce("a",{href:"https://www.linkedin.com/cws/share?url="+encodeURIComponent(v),target:"_blank",rel:"noopener noreferrer",className:"flex flex-row items-center w-full p-4 lg:w-1/2 hover:bg-brand-grey-100 dark:hover:bg-brand-dark-grey-800"},ce("span",{className:"text-lnkin-variant"},ce(L.a,{className:"w-6 h-6 mr-2 fill-current"})),ce("span",null,"LinkedIn")),ce("a",{href:"http://www.reddit.com/submit?url="+encodeURIComponent(v)+"&title="+encodeURIComponent(e.title),target:"_blank",rel:"noopener noreferrer",className:"flex flex-row items-center w-full p-4 lg:w-1/2 hover:bg-brand-grey-100 dark:hover:bg-brand-dark-grey-800"},ce("span",{className:"text-brand-red"},ce(j.a,{className:"w-6 h-6 mr-2 fill-current"})),ce("span",null,"Reddit")),ce("a",{href:"http://news.ycombinator.com/submitlink?u="+encodeURIComponent(v)+"&t="+encodeURIComponent(e.title),target:"_blank",rel:"noopener noreferrer",className:"flex flex-row items-center w-full p-4 lg:w-1/2 hover:bg-brand-grey-100 dark:hover:bg-brand-dark-grey-800"},ce(D.a,{className:"w-6 h-6 mr-2 fill-current"}),ce("span",null,"HackerNews")),ce("a",{href:"https://api.whatsapp.com/send?text="+encodeURIComponent(e.title)+" "+encodeURIComponent(v),target:"_blank",rel:"noopener noreferrer",className:"flex flex-row items-center w-full p-4 lg:w-1/2 hover:bg-brand-grey-100 dark:hover:bg-brand-dark-grey-800"},ce("span",{className:"text-brand-green"},ce(U.a,{className:"w-6 h-6 mr-2 fill-current"})),ce("span",null,"Whatsapp")),ce("div",{className:"flex flex-col w-full p-2"},ce("label",{className:"mb-2 text-sm font-semibold text-brand-grey-700"},"Permalink"),ce("input",{className:"w-full input-text",readOnly:!0,value:v})))))))))),!e.author.isDeactivated&&w.length>0&&!e.series&&ce("div",{className:"mx-auto mt-10 mb-20 blog-more-articles xl:w-4/5"},ce("div",{className:"text-brand-grey-800 dark:text-brand-grey-300"},ce("h3",{className:"mb-8 ml-2 text-lg font-bold tracking-wide text-center uppercase blog-more-articles-title text-brand-grey-800 dark:text-brand-grey-400"},this.props.isPublicationPost?"Read next \ud83d\udcd6":`More Stories by ${e.author.name}`),ce("div",{className:"container flex flex-row flex-wrap justify-center mx-auto blog-more-articles-wrapper"},w))),x.length>0&&!e.series&&ce("div",{className:"mx-auto mt-10 mb-20 blog-more-articles xl:px-0 xl:w-4/5"},ce("div",{className:"text-brand-grey-800 dark:text-brand-grey-300"},ce("h3",{className:"mb-8 ml-2 text-lg font-bold tracking-wide text-center uppercase blog-more-articles-title text-brand-grey-800 dark:text-brand-grey-400"},"Related Posts"),ce("div",{className:"flex flex-row flex-wrap justify-center blog-more-articles-wrapper"},x))),ce("div",{className:"relative z-30 flex flex-row justify-center"},ce("div",{className:"blog-comments-section-wrapper article-width xl:pr-12"},e.series&&g.length>0&&ce("div",{className:"mx-2 mb-10 -mt-5 overflow-hidden border rounded-lg blog-series dark:border-brand-grey-700"},ce("div",{className:"px-5 py-4 border-b blog-series-heading dark:border-brand-grey-700"},ce("p",{className:"text-xs font-semibold leading-snug tracking-wider uppercase text-brand-grey-700 dark:text-brand-grey-500"},"Article Series"),ce("h3",{className:"text-base font-semibold text-brand-blue"},ce("a",{href:e.series.partOfPublication&&e.series.publication?`https://${e.publication.domain?e.publication.domain:(e.publication.subdomain||e.publication.username)+".hashnode.dev"}/series/${e.series.slug}`:`https://hashnode.com/series/${e.series.slug}-${e.series.cuid}`,className:"font-bold"},e.series.name))),ce("div",{className:"flex flex-col w-full blog-series-list"},g)),!e.disableComments&&ce(R.a,{onFilterChange:this.sortResponse,isPublicationPost:this.props.isPublicationPost,goToPublicationLogin:this.props.goToPublicationLogin}),e.disableComments?null:this.state.sortingInProgress?ce("div",{className:"px-2"},ce("div",{className:"mb-6"},ce("div",{className:"flex flex-row flex-wrap px-4 py-6 bg-white border rounded-lg md:p-8 md:flex-nowrap dark:bg-brand-grey-900 dark:border-brand-grey-800"},ce("div",{className:"w-10 h-10 mb-4 mr-4 rounded-full bg-brand-grey-200 dark:bg-brand-grey-800 md:mb-0 md:w-12 md:h-12"}),ce("div",{className:"flex flex-col w-full md:w-auto md:flex-1"},ce("div",{className:"w-56 h-6 mb-2 rounded bg-brand-grey-200 dark:bg-brand-grey-800"}),ce("div",{className:"w-24 h-4 mb-4 rounded bg-brand-grey-200 dark:bg-brand-grey-800"}),ce("div",null,ce("div",{className:"w-3/4 h-4 mb-2 rounded bg-brand-grey-200 dark:bg-brand-grey-800"}),ce("div",{className:"w-3/4 h-4 mb-2 rounded bg-brand-grey-200 dark:bg-brand-grey-800"}),ce("div",{className:"w-3/4 h-4 mb-2 rounded bg-brand-grey-200 dark:bg-brand-grey-800"}))))),ce("div",{className:"mb-6"},ce("div",{className:"flex flex-row flex-wrap px-4 py-6 bg-white border rounded-lg md:p-8 md:flex-nowrap dark:bg-brand-grey-900 dark:border-brand-grey-800"},ce("div",{className:"w-10 h-10 mb-4 mr-4 rounded-full bg-brand-grey-200 dark:bg-brand-grey-800 md:mb-0 md:w-12 md:h-12"}),ce("div",{className:"flex flex-col w-full md:w-auto md:flex-1"},ce("div",{className:"w-56 h-6 mb-2 rounded bg-brand-grey-200 dark:bg-brand-grey-800"}),ce("div",{className:"w-24 h-4 mb-4 rounded bg-brand-grey-200 dark:bg-brand-grey-800"}),ce("div",null,ce("div",{className:"w-3/4 h-4 mb-2 rounded bg-brand-grey-200 dark:bg-brand-grey-800"}),ce("div",{className:"w-3/4 h-4 mb-2 rounded bg-brand-grey-200 dark:bg-brand-grey-800"}),ce("div",{className:"w-3/4 h-4 mb-2 rounded bg-brand-grey-200 dark:bg-brand-grey-800"})))))):ce(i.a,{isPublicationPost:this.props.isPublicationPost,goToPublicationLogin:this.props.goToPublicationLogin,incrementPage:this.props.incrementPage,showLoadMore:this.props.showLoadMore,responsesFetched:this.props.responsesFetched,responsesPage:this.props.responsesPage,currentFilter:this.state.selectedFilter}),!e.partOfPublication&&ce("div",{itemProp:"publisher",itemScope:!0,itemType:"https://schema.org/Organization"},ce("meta",{itemProp:"name",content:"Hashnode"}),ce("meta",{itemProp:"url",content:"https://hashnode.com"}),ce("div",{itemProp:"logo",itemScope:!0,itemType:"https://schema.org/ImageObject"},ce("meta",{itemProp:"url",content:"https://cdn.hashnode.com/res/hashnode/image/upload/v1555433338785/S0i8EdudL.png?w=600&auto=compress"})),ce("meta",{itemProp:"sameAs",content:"https://twitter.com/hashnode"}),ce("meta",{itemProp:"sameAs",content:"https://facebook.com/hashnode"}),ce("meta",{itemProp:"sameAs",content:"https://linkedin.com/company/hashnode"}),ce("meta",{itemProp:"sameAs",content:"https://instagram.com/hashnode"})),e.partOfPublication&&ce("div",{itemProp:"publisher",itemScope:!0,itemType:"https://schema.org/Organization"},ce("meta",{itemProp:"name",content:e.publication.title||`${e.publication.author.name}'s blog`}),ce("meta",{itemProp:"url",content:`https://${e.publication.domain?e.publication.domain:(e.publication.subdomain||e.publication.username)+".hashnode.dev"}`}),ce("div",{itemProp:"logo",itemScope:!0,itemType:"https://schema.org/ImageObject"},ce("meta",{itemProp:"url",content:`https://hashnode.com/utility/r?url=${encodeURIComponent(N)}`})),e.publication.links.twitter&&ce("meta",{itemProp:"sameAs",content:e.publication.links.twitter}),e.publication.links.github&&ce("meta",{itemProp:"sameAs",content:e.publication.links.github}),e.publication.links.hashnode&&ce("meta",{itemProp:"sameAs",content:e.publication.links.hashnode}))),ce("div",{className:"xl:w-40"}))))}})||X)||X)||X},CCYA:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var o=s("q1tI"),r=s.n(o),a=r.a.createElement;class n extends r.a.Component{render(){return a("svg",{className:this.props.className,viewBox:"0 0 255 255",fill:"none"},a("path",{d:"M17.74 194.455a5.94 5.94 0 001.994 9.716l31.276 12.51a5.942 5.942 0 013.309 3.309l12.51 31.276a5.935 5.935 0 004.32 3.613 5.942 5.942 0 005.396-1.619l36.053-36.053-58.805-58.805-36.053 36.053z",fill:"#FF3C21"}),a("path",{d:"M97.606 114.589l-43.813 43.813 58.805 58.805 43.813-43.813-58.805-58.805z",fill:"#DD1500"}),a("path",{d:"M178.632 253.26L49.176 123.805 78.58 94.402 107.98 65l129.456 129.455a5.934 5.934 0 011.618 5.395 5.937 5.937 0 01-3.612 4.321l-31.276 12.51a5.941 5.941 0 00-3.309 3.309l-12.51 31.276a5.944 5.944 0 01-4.321 3.613 5.945 5.945 0 01-5.395-1.619z",fill:"#FF3C21"}),a("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.003 68.093c-18.67 18.67-18.67 48.942 0 67.613l54.09 54.09c18.671 18.671 48.942 18.671 67.613 0l54.09-54.09c18.671-18.671 18.671-48.942 0-67.613l-54.09-54.09c-18.671-18.67-48.942-18.67-67.613 0l-54.09 54.09z",fill:"#FFAF07"}),a("path",{d:"M125.266 45.471c1.504-3.295 3.965-3.295 5.468 0l13.663 29.934a12.853 12.853 0 003.869 4.443 13.013 13.013 0 005.462 2.272l32.966 3.62c3.628.397 4.389 2.716 1.69 5.15l-24.522 22.119a12.793 12.793 0 00-3.071 5.018 12.7 12.7 0 00-.494 5.847l6.712 32.171c.739 3.541-1.252 4.974-4.424 3.183l-28.818-16.263a13.046 13.046 0 00-5.767-1.342 13.05 13.05 0 00-5.767 1.342l-28.818 16.263c-3.172 1.791-5.163.358-4.424-3.183l6.712-32.171c.294-1.96.125-3.962-.494-5.847a12.804 12.804 0 00-3.071-5.018L67.616 90.89c-2.699-2.435-1.938-4.753 1.69-5.15l32.966-3.62a13.013 13.013 0 005.462-2.272 12.853 12.853 0 003.869-4.443l13.663-29.934z",fill:"white"}))}}},DbDt:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var o=s("q1tI"),r=s.n(o),a=r.a.createElement;class n extends r.a.Component{render(){return a("svg",{className:this.props.className,viewBox:"0 0 448 512"},a("path",{d:"M352 320c-28.6 0-54.2 12.5-71.8 32.3l-95.5-59.7c9.6-23.4 9.7-49.8 0-73.2l95.5-59.7c17.6 19.8 43.2 32.3 71.8 32.3 53 0 96-43 96-96S405 0 352 0s-96 43-96 96c0 13 2.6 25.3 7.2 36.6l-95.5 59.7C150.2 172.5 124.6 160 96 160c-53 0-96 43-96 96s43 96 96 96c28.6 0 54.2-12.5 71.8-32.3l95.5 59.7c-4.7 11.3-7.2 23.6-7.2 36.6 0 53 43 96 96 96s96-43 96-96c-.1-53-43.1-96-96.1-96zm0-288c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM96 320c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64zm256 160c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64z"}))}}},Fynz:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var o=s("q1tI"),r=s.n(o),a=r.a.createElement;class n extends r.a.Component{render(){return a("svg",{className:this.props.className,viewBox:"0 0 512 512"},a("path",{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"}))}}},J66h:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){module.exports=t(e)}("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:this,(function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.2",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(err){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},s=0,o=e.length;s<o;s++)t[e.charAt(s)]=s;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],s=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(s>>>18),b64chars.charAt(s>>>12&63),t>=2?"=":b64chars.charAt(s>>>6&63),t>=1?"=":b64chars.charAt(63&s)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)?e.toString("base64"):btoa(utob(String(e)))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,""):_encode(e)},encodeURI=function(e){return encode(e,!0)},re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,s=t%4,o=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),r=[fromCharCode(o>>>16),fromCharCode(o>>>8&255),fromCharCode(255&o)];return r.length-=[0,0,2,1][s],r.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"===typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(e){return encode(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}}))}).call(this,__webpack_require__("yLpj"))},MiOu:function(e,t,s){"use strict";s.d(t,"a",(function(){return m}));var o,r=s("q1tI"),a=s.n(r),n=s("8cHP"),i=s("okNM"),l=s("ByAy"),c=s("slGX"),d=s("XOv7"),p=a.a.createElement;let m=Object(i.b)("postStore")(o=Object(i.b)("userStore")(o=Object(i.c)(o=class extends a.a.Component{constructor(e,t){super(e,t),this.loadMoreResponses=async e=>{e.preventDefault(),this.setState({isLoading:!0});const t=this.props.postStore.post,s=this.props.responsesPage+1,o=await this.props.postStore.fetchResponses(t._id,s,this.props.currentFilter||"totalReactions");this.props.responsesFetched(o),this.props.incrementPage(),this.setState({isLoading:!1})},this.state={isLoading:!1}}goToLogin(e){e.preventDefault(),Object(c.b)({eventType:"clicked_register_spp",data:{postId:this.props.postStore.post._id}});const t="?next="+window.location.pathname;return n.Router.pushRoute("/signup"+t)}render(){const e=this.props.userStore.currentUser,t=this.props.postStore.post;let s=[];return t.responses.forEach((t,o)=>{t.isCollapsed&&(!e||"superuser"!==e.role&&e._id.toString()!==t.author._id.toString())||s.push(p(l.a,{key:t._id,i:o,isPublicationPost:this.props.isPublicationPost,goToPublicationLogin:this.props.goToPublicationLogin,response:t,isPublication:this.props.isPublication,count:o,context:"spp"}))}),p("div",{className:"px-2"},t.responseCount>0&&s,!this.props.isSingleAnswerView&&this.props.showLoadMore&&t.responses.length>0&&!this.state.isLoading&&p("div",{className:"p-4 border rounded border-accent-blue-200 bg-accent-blue-50"},p("a",{href:"/post/"+t.slug+"-"+t.cuid+"/"+(this.props.responsesPage+1),className:"flex flex-row items-center justify-center text-accent-blue-A700 font-medium text-base",onClick:this.loadMoreResponses},p(d.a,{className:"w-6 h-6 mr-2 fill-current"}),p("span",null,"Load more responses"))),this.state.isLoading&&p("div",{className:""},p("div",{className:"mb-6"},p("div",{className:"p-8 bg-white border rounded flex flex-row"},p("div",{className:"bg-gray-200 w-12 h-12 rounded-full mr-4"}),p("div",{className:"flex flex-col flex-1"},p("div",{className:"h-6 w-56 rounded bg-gray-200 mb-2"}),p("div",{className:"h-4 w-24 rounded bg-gray-200 mb-4"}),p("div",null,p("div",{className:"h-4 w-3/4 rounded mb-2 bg-gray-200"}),p("div",{className:"h-4 w-3/4 rounded mb-2 bg-gray-200"}),p("div",{className:"h-4 w-3/4 rounded mb-2 bg-gray-200"})))))))}})||o)||o)||o},Qe3z:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var o,r=s("q1tI"),a=s.n(r),n=s("Fu4d"),i=s("okNM"),l=a.a.createElement;let c=Object(i.b)("userStore")(o=class extends a.a.Component{constructor(e,t){super(e,t)}render(){const e=this.props.userStore.publication,t=this.props.userStore.profile;return l("footer",{className:"py-12 text-center border-t blog-footer-area bg-brand-grey-50 dark:bg-brand-black text-brand-grey-800 dark:text-brand-grey-500 dark:border-brand-grey-800"},e.imprint&&l("section",{className:"p-4 mx-auto mb-10 text-left bg-white border rounded-lg blog-impressum md:w-2/3 dark:bg-brand-dark-grey-900 dark:border-brand-grey-800"},l("div",{className:"mx-auto prose dark:prose-dark",dangerouslySetInnerHTML:{__html:`<h3>Impressum</h3>${e.imprint}`}})),l("div",{className:"flex flex-row items-center justify-center mb-5 blog-footer-credits"},l("p",{className:"mr-4 text-sm leading-snug text-brand-grey-700 dark:text-brand-grey-400"},"\xa9 ",(new Date).getFullYear()," ",e.title||t.name+"'s Blog"),l("a",{className:"px-2 button-transparent small",href:"https://hashnode.com/privacy?source=blog-footer",target:"_blank",rel:"noopener"},"Privacy"),l("a",{className:"px-2 button-transparent small",href:"https://hashnode.com/terms?source=blog-footer",target:"_blank",rel:"noopener"},"Terms")),l("div",{className:"flex flex-col items-center justify-center text-sm text-brand-black dark:text-white"},l("span",{className:"block mb-1 leading-snug text-brand-grey-700 dark:text-brand-grey-400"},"Proudly part of"),l("a",{"aria-label":"Hashnode",href:"https://hashnode.com?source=blog-footer",target:"_blank",rel:"noopener"},l(n.a,{className:"w-32 fill-current"}))))}})||o},"Yhf+":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var o=s("q1tI"),r=s.n(o),a=r.a.createElement;class n extends r.a.Component{render(){return a("svg",{className:this.props.className,viewBox:"0 0 256 512"},a("path",{d:"M17.525 36.465l-7.071 7.07c-4.686 4.686-4.686 12.284 0 16.971L205.947 256 10.454 451.494c-4.686 4.686-4.686 12.284 0 16.971l7.071 7.07c4.686 4.686 12.284 4.686 16.97 0l211.051-211.05c4.686-4.686 4.686-12.284 0-16.971L34.495 36.465c-4.686-4.687-12.284-4.687-16.97 0z"}))}}},YzW0:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var o=s("q1tI"),r=s.n(o),a=r.a.createElement;class n extends r.a.Component{render(){return a("svg",{className:this.props.className,viewBox:"0 0 512 512"},a("path",{d:"M464 4.3L16 262.7C-7 276-4.7 309.9 19.8 320L160 378v102c0 30.2 37.8 43.3 56.7 20.3l60.7-73.8 126.4 52.2c19.1 7.9 40.7-4.2 43.8-24.7l64-417.1C515.7 10.2 487-9 464 4.3zM192 480v-88.8l54.5 22.5L192 480zm224-30.9l-206.2-85.2 199.5-235.8c4.8-5.6-2.9-13.2-8.5-8.4L145.5 337.3 32 290.5 480 32l-64 417.1z"}))}}},aBix:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var o=s("q1tI"),r=s.n(o),a=r.a.createElement;class n extends r.a.Component{render(){return a("svg",{className:this.props.className,viewBox:"0 0 512 512"},a("path",{d:"M384 288h-32c-17.67 0-32 14.35-32 32.06v127.88c0 17.7 14.33 32.06 32 32.06h32c35.35 0 64-28.71 64-64.12v-63.76c0-35.41-28.65-64.12-64-64.12zm32 127.88c0 17.68-14.36 32.06-32 32.06h-32V320.06h32c17.64 0 32 14.38 32 32.06v63.76zM160 288h-32c-35.35 0-64 28.71-64 64.12v63.76C64 451.29 92.65 480 128 480h32c17.67 0 32-14.35 32-32.06V320.06c0-17.71-14.33-32.06-32-32.06zm0 159.94h-32c-17.64 0-32-14.38-32-32.06v-63.76c0-17.68 14.36-32.06 32-32.06h32v127.88zM256 32C114.84 32 0 146.85 0 288v120c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8V288C32 164.48 132.5 64 256 64s224 100.48 224 224v120c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8V288c0-141.15-114.84-256-256-256z"}))}}},ezLc:function(e,t,s){"use strict";function o(e){const t="https://cdn.hashnode.com/res/hashnode/image/upload/v1592977386906/ovfhUTMtA.png?auto=compress",s=[{name:"description",content:e.nameDescription||e.description,itemprop:"description"},{property:"og:title",content:e.ogTitle||e.title,itemprop:"name"},{property:"og:site_name",content:e.ogSiteName||"Hashnode"},{property:"og:type",content:e.pageType||"website"},{property:"og:url",content:e.url},{name:"image",property:"og:image",content:e.ogImage||t,itemprop:"image"},{property:"og:description",content:e.ogDescription||e.description},{name:"twitter:card",content:"large"===e.bannerType?"summary_large_image":"summary"},{name:"twitter:title",content:e.ogTitle||e.title},{name:"twitter:description",content:e.ogDescription||e.description},{name:"twitter:image",content:e.twitterImage||t}];return"article"===e.pageType&&"undefined"!==typeof e.twitterHandle?s.push({name:"twitter:creator",content:e.twitterHandle}):"profile"===e.pageType&&"undefined"!==typeof e.twitterHandle&&s.push({name:"twitter:creator:id",content:e.twitterHandle}),e.monetization&&s.push({name:"monetization",content:e.monetization}),e.isDelisted&&s.push({name:"robots",content:"noindex"}),e.amaCreator&&s.push({property:"twitter:creator",content:e.amaCreator}),e.nextPage&&s.push({name:"nextPage",content:e.nextPage}),e.prevPage&&s.push({name:"prevPage",content:e.prevPage}),{title:e.title,link:e.link,style:e.style,meta:s}}s.d(t,"a",(function(){return o}))},j9PU:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var o=s("q1tI"),r=s.n(o),a=r.a.createElement;class n extends r.a.Component{render(){return a("svg",{className:this.props.className,viewBox:"0 0 512 512"},a("path",{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}))}}},mfKR:function(e,t,s){"use strict";s.r(t),function(e){s.d(t,"default",(function(){return _}));var o=s("q1tI"),r=s.n(o),a=s("Y0NT"),n=s("ezLc"),i=s("mlqF"),l=s("BO/R"),c=s.n(l),d=(s("J66h"),s("slGX")),p=s("FLa4"),m=s("qhky"),u=s("CWLz"),h=s("okNM"),b=s("o2cU"),g=s("Qi1R"),f=s("Wgwc"),w=s.n(f),x=s("QgiU"),v=s.n(x),y=s("I631"),k=s.n(y),N=s("cZcG"),S=s("4Exu"),P=s("Qe3z"),C=r.a.createElement;w.a.extend(v.a),w.a.extend(k.a);class _ extends r.a.Component{static async getInitialProps({req:t,res:s,query:o}){const r=!!t,a=Object(b.a)(r);let n=200;const l=t&&("true"===t.query.preview||t.headers.previewMode),c=r?t.user:a.userStore.currentUser;r&&c&&(a.userStore.currentUser=c);const d=o.stamp,p=o.page||1,m=!t;let u,h,g=t&&t.cookies&&"true"===t.cookies.isDarkTheme;if(t){try{h=t.post=await a.postStore.loadPost(t.headers.host,o.slug,p,d,t&&t.headers.cookie)}catch(w){if(w.url)return s.set("Cache-Control","public, max-age=0"),s.redirect(301,w.url)}t.customFavicon=h&&h.publication&&h.publication.favicon&&`${Object(i.resizeImage)(h.publication.favicon,{})}&fm=png`,t.customMeta=h&&h.publication&&h.publication.metaTags,t.fbPixelID=h&&h.publication&&h.publication.fbPixelID,t.customTheme=h&&h.publication&&h.publication.headerColor,t.fathomSiteID=h&&h.publication&&h.publication.fathomSiteID,t.fathomCustomDomainEnabled=h&&h.publication&&h.publication.fathomCustomDomainEnabled,t.fathomCustomDomain=h&&h.publication&&h.publication.fathomCustomDomain,t.hotjarSiteID=h&&h.publication&&h.publication.hotjarSiteID,t.matomoSiteID=h&&h.publication&&h.publication.matomoSiteID,t.matomoURL=h&&h.publication&&h.publication.matomoURL,t.plausibleAnalyticsEnabled=h&&h.publication&&h.publication.plausibleAnalyticsEnabled,t.domainURL=h&&(h.publication.domain?h.publication.domain:(h.publication.subdomain||h.publication.username)+".hashnode.dev")}else h=await a.postStore.loadMinPost(window.location.hostname,o.slug);(!h||h.partOfPublication&&!h.publication)&&(n=404),(!h||p>1&&0===h.responses.length)&&(n=404),h&&h.publication&&h.publication.isTeam&&h.pendingPublicationApproval&&(n=404),r&&s.set("Cache-Control","public, max-age=0"),r&&200!==n&&s.set("Cache-Control","no-cache");const f=h&&h.publication;if(f){const t=JSON.stringify({_id:f._id,title:f.title,logo:`${Object(i.resizeImage)(f.isTeam?f.favicon||"https://cdn.hashnode.com/res/hashnode/image/upload/v1609762957611/4FWQ9irMT.jpeg?auto=compress":h.author.photo||"https://cdn.hashnode.com/res/hashnode/image/upload/v1600792675173/rY-APy9Fc.png?auto=compress",{w:300,h:300,c:"face"})}&mask=corners&corner-radius=150`,author:{name:f.isTeam?f.title:h.author.name}});u=e.from(t).toString("base64")}return r&&"undefined"===typeof t.cookies.isDarkTheme&&f&&f.darkModeEnabled&&(t.cookies.isDarkTheme="true",g=!0),{user:c,post:h,publication:f,statusCode:n,isSingleAnswerView:!1,responsesPage:p,isDarkTheme:g,responseStamp:d,isClientRendered:m,base64BlogData:u,preview:l}}constructor(e,t){super(e,t),this.authTokenObtained=async()=>{await this.fetchPostFromOrigin(),setTimeout(()=>{this.submitPendingComment()},500)},this.fetchPostFromOrigin=async()=>{if(!this.store.postStore.post)return;await this.store.postStore.loadPost(null,`${this.store.postStore.post.slug}-${this.store.postStore.post.cuid}`,this.props.responsesPage,null,null,!0),this.setState({dataFetchedFromOrigin:!0}),this.store.postStore.post.responseCount>50&&this.setState({showLoadMore:!0});const e=this.store.userStore.currentUser;e&&e.isAmbassador&&this.store.userStore.updateReadingHistory(this.store.postStore.post._id)},this.submitPendingComment=async()=>{try{if(!this.store.postStore.post)return;const e=window.localStorage.getItem("pending-comment"),t=window.localStorage.getItem("post:"+this.store.postStore.post._id+":response");e&&t&&(await this.store.postStore.submitResponse(this.store.postStore.post._id,t),Object(p.a)("success","Your comment was added successfully!"),window.localStorage.removeItem("pending-comment"),window.localStorage.removeItem("post:"+this.store.postStore.post._id+":response"))}catch(e){}},this.responsesFetched=e=>{const t=this.store.postStore.post;t.responses.length!==t.responseCount&&0!==e.length||this.setState({showLoadMore:!1})},this.incrementPage=()=>{this.setState({responsesPage:this.state.responsesPage+1})},this.goToPublicationLogin=e=>{const t=`${-1!==window.location.hostname.indexOf("localhost")?"http://localhost:3000":"https://hashnode.com"}/login?next=https://${window.location.hostname}${window.location.pathname}&blog=${this.props.base64BlogData}${e?`&context=${e}`:""}`;window.location.href=t},this.resetPage=()=>{const e=this.store.postStore.post;this.setState({responsesPage:1,showLoadMore:e.responseCount>50})},this.store=Object(b.a)(!1,{userStore:{user:e.user,profile:e.post&&e.publication&&!e.publication.isTeam&&e.post.author,publication:e.publication},postStore:{post:e.post,similarPosts:[]},themeStore:{isDarkTheme:e.isDarkTheme}}),this.store.postStore.setUserStore(this.store.userStore),this.state={responsesPage:Number(e.responsesPage)||1,showLoadMore:this.store.postStore.post&&this.store.postStore.post.responseCount>50,similarPosts:[],morePosts:[],mobMount:!1,shouldFetchSimilarPosts:!0,amas:[]}}async componentDidMount(){if(200===this.props.statusCode){if(this.props.isClientRendered){const t=this;window.addEventListener("popstate",()=>{window.location.reload(!0)},{once:!0});try{document.arrive(".hn-embed-widget",()=>{Object(g.i)(t.store.postStore.post.publication._id)})}catch(e){}this.fetchPostFromOrigin()}if(setTimeout(()=>{this.store.postStore.post&&Object(g.i)(this.store.postStore.post.publication._id)},500),screen.width<=425&&this.setState({mobMount:!0}),this.store.postStore.post)if(Object(d.a)().trackPageView(this.store.postStore.post._id),this.store.postStore.post.series)await this.store.postStore.fetchOtherPostsOfSeries(this.store.postStore.post.series._id);else if(this.store.postStore.post.partOfPublication){const e=await this.store.postStore.fetchMorePostsOfAuthor(this.store.postStore.post._id,null,this.store.postStore.post.publication._id);this.setState({morePosts:e})}}}render(){if(200!==this.props.statusCode)return C(a.default,{statusCode:this.props.statusCode,message:"error!"});const e=this.store.postStore.post,t=this.store.userStore.profile,s=e.author&&e.author.socialMedia.twitter?e.author.socialMedia.twitter.substring(e.author.socialMedia.twitter.lastIndexOf("/")+1):"";let o;0===e.responseCount?o=e.followersCount>0?`${e.followersCount} ${e.followersCount>1?"people":"person"} ${e.followersCount>1?"want":"wants"} answer to this question. Be the first one to respond.`:e.brief:1===e.responseCount&&1===e.responses.length?o=c()(e.responses[0].content,{allowedTags:[]}).substring(0,140):e.responseCount>1&&e.responses.length>1&&(o="Answer (1 of "+e.responseCount+"): "+c()(e.responses[0].content,{allowedTags:[]}).substring(0,140)),e.hasPolls&&(o="(Poll: "+e.totalPollVotes+" vote"+(e.totalPollVotes>1?"s":"")+") "+o),e.isAMA&&(o="Ask me anything: "+c()(e.content,{allowedTags:[]}).substring(0,240)+"\u2026");const r=[{rel:"canonical",href:e.isRepublished?e.originalArticleURL:`${e.partOfPublication&&e.publication?"https://"+(e.publication.domain||(e.publication.subdomain||e.publication.username)+".hashnode.dev"):"https://hashnode.com/post"}`+"/"+e.slug+("simple"===e.publication.urlPattern?"":"-"+e.cuid)+(this.props.isSingleAnswerView?"/answer/"+this.props.responseStamp:this.state.responsesPage&&this.state.responsesPage>1?`/${this.state.responsesPage}`:"")}],l=`${e.partOfPublication&&e.publication?"https://"+(e.publication.domain||(e.publication.subdomain||e.publication.username)+".hashnode.dev"):"https://hashnode.com"}`;e.publication&&e.partOfPublication&&e.publication.isAMPEnabled&&r.push({rel:"amphtml",href:"https://"+(e.publication.domain||(e.publication.subdomain||e.publication.username)+".hashnode.dev")+"/amp/"+e.slug+("simple"===e.publication.urlPattern?"":"-"+e.cuid)+(this.state.responsesPage&&this.state.responsesPage>1?"/"+this.state.responsesPage:"")});const d=e.ogImage?Object(i.resizeImage)(e.ogImage,{w:1200}):e.coverImage?Object(i.resizeImage)(e.coverImage,{w:1200,h:630,c:"thumb"}):"",p=this.store.userStore.publication,b={title:e.title,pageType:"article",ogSiteName:`${p.title||t.name+"'s Blog"}`,link:r,description:e.subtitle||e.brief,bannerType:"large",ogImage:e.ogImage||e.coverImage?`https://hashnode.com/utility/r?url=${encodeURIComponent(d+"&fm=png")}`:`https://hashnode.com/post/cover/${e.cuid}`,twitterImage:e.ogImage||e.coverImage?`https://hashnode.com/utility/r?url=${encodeURIComponent(d+"&fm=png")}`:`https://hashnode.com/post/cover/${e.cuid}`,url:l+"/"+e.slug+("simple"===e.publication.urlPattern?"":"-"+e.cuid),twitterHandle:s?0===s.indexOf("@")?s:"@"+s:"",monetization:e.publication.wmPaymentPointer};this.props.preview?p.customCSSDraft&&p.customCSSDraft.postMin&&(b.style=[{type:"text/css",cssText:p.customCSSDraft.postMin}]):p.customCSSEnabled&&p.customCSSPublished&&p.customCSSPublished.postMin&&(b.style=[{type:"text/css",cssText:p.customCSSPublished.postMin}]);const f=Object(n.a)(b),w=!!p.headerColor&&"dark"===Object(g.e)(p.headerColor);return C(h.a,this.store,C("div",{key:e._id,className:"bg-white dark:bg-brand-dark-grey-900"},C(m.a,f),C(u.a,{gaTrackingID:e.publication.gaTrackingID,context:"publication",postCUID:e.cuid}),C("header",{style:{backgroundColor:p.headerColor||""},className:`blog-header relative z-50 ${p.headerColor?"":"border-b dark:border-gray-800"}`},C(N.a,{isHome:!0,isUserThemeDark:w,goToLogin:this.goToPublicationLogin,authTokenObtained:this.authTokenObtained})),C("div",{className:"blog-post-area"},C(S.a,{goToPublicationLogin:this.goToPublicationLogin,isPublicationPost:!0,responsesPage:this.state.responsesPage,similarPosts:this.state.similarPosts,morePosts:this.state.morePosts,incrementPage:this.incrementPage,showLoadMore:this.state.showLoadMore,responsesFetched:this.responsesFetched,resetPage:this.resetPage,dataFetchedFromOrigin:this.state.dataFetchedFromOrigin})),C(P.a,null)))}}}.call(this,s("HDXh").Buffer)},njBg:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/publication/PublicationPost",function(){return s("mfKR")}])},nsJ6:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var o=s("q1tI"),r=s.n(o),a=r.a.createElement;class n extends r.a.Component{render(){return a("svg",{className:this.props.className,viewBox:"0 0 512 512"},a("path",{d:"M280 272H136c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h144c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm96-96H136c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h240c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 384c-28.3 0-56.3-4.3-83.2-12.8l-15.2-4.8-13 9.2c-23 16.3-58.5 35.3-102.6 39.6 12-15.1 29.8-40.4 40.8-69.6l7.1-18.7-13.7-14.6C47.3 313.7 32 277.6 32 240c0-97 100.5-176 224-176s224 79 224 176-100.5 176-224 176z"}))}}},qabK:function(e,t,s){"use strict";s.d(t,"a",(function(){return m}));var o=s("q1tI"),r=s.n(o),a=s("okNM"),n=(s("22ea"),s("+QwO")),i=(s("slGX"),r.a.createElement);class l extends r.a.Component{render(){return i("svg",{className:this.props.className,viewBox:"0 0 576 512"},i("path",{d:"M560.8 329.8l-94.6-88.7c-2.4-2.3-6.2-2.1-8.5.3L444.1 256c-2.3 2.4-2.1 6.2.3 8.5l59.3 55.6H388.2l-32 64H219.8l-32-64H72.4l59.3-55.6c2.4-2.3 2.5-6.1.3-8.5l-13.7-14.6c-2.3-2.4-6.1-2.5-8.5-.3l-94.6 88.7C5.5 338.9 0 351.5 0 364.8V464c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48v-99.2c0-13.3-5.5-25.9-15.2-35zM544 464c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16v-96c0-8.8 7.2-16 16-16h120l32 64h176l32-64h120c8.8 0 16 7.2 16 16v96zM160 192h64v104c0 13.2 10.8 24 24 24h80c13.2 0 24-10.8 24-24V192h64c28.4 0 42.8-34.5 22.6-54.6l-128-128c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-20 20.1-5.8 54.6 22.7 54.6zM288 32l128 128h-96v128h-64V160h-96L288 32z"}))}}var c,d=s("YzW0"),p=r.a.createElement;let m=Object(a.b)("userStore")(c=class extends r.a.Component{constructor(e,t){super(e,t),this.subscribe=async()=>{const e=this.email.value,t=this.props.userStore.publication._id;if(!e.trim())return;if(!Object(n.isEmail)(e))return this.setState({err:"Please enter a valid email"});this.setState({submitDisabled:!0});const s=await this.props.userStore.subscribeToNewsletter(e,t),o={submitDisabled:!1};s.err?o.err=s.err:(o.subscribed=!0,o.err=""),this.setState(o)},this.handleEmailChange=e=>{this.state.err&&this.setState({err:""}),13===e.keyCode&&this.subscribe()},this.state={}}render(){const e=this.props.userStore.publication;return p("div",{className:`blog-subscription-form-wrapper ${this.props.className} relative overflow-hidden`},!this.state.subscribed&&p("div",{className:"flex flex-row flex-wrap items-center w-full"},p("div",{className:"w-full mb-3 mr-2 xl:mb-0 xl:w-56"},p("p",{className:"text-sm font-medium leading-snug tracking-tight blog-subscription-form-message text-brand-grey-900 dark:text-gray-400"},"Subscribe to ",e.isTeam?"our":"my"," newsletter and never miss ",e.isTeam?"any":"my"," upcoming articles")),p("div",{className:"relative items-center w-full xl:w-auto xl:flex-1"},p("div",{className:"absolute top-0 left-0 flex flex-row items-center h-full ml-4 text-brand-grey-600 dark:text-brand-grey-500"},p(d.a,{className:"w-5 h-5 fill-current"})),p("input",{"aria-label":"Newsletter subscription form",type:"text",onKeyUp:this.handleEmailChange,ref:e=>{this.email=e},className:`blog-subscription-form-input font-semibold input-text text-sm md:text-base bg-white dark:bg-brand-dark-grey-900 pl-12 pr-32 ${this.state.err?"border-brand-red":""}`,placeholder:"Email address"}),p("div",{className:"absolute top-0 right-0 flex flex-row items-center h-full mr-2"},p("button",{disabled:this.state.submitDisabled,className:"px-4 py-3 font-bold leading-snug uppercase text-brand-blue dark:text-brand-blue blog-subscription-form-button button-transparent small",onClick:this.subscribe},"Subscribe")))),this.state.subscribed&&p("div",{className:"flex flex-row items-center w-full"},p("div",{className:"mr-5 blog-subscription-form-check-icon text-brand-grey-800 dark:text-brand-grey-200"},p(l,{className:"w-16 h-16 fill-current"})),p("div",{className:"flex-1"},p("h2",{className:"mb-px text-xl font-bold leading-snug text-black blog-subscription-form-subscribed-title dark:text-white"},"Confirm your subscription"),p("p",{className:"leading-snug blog-subscription-form-subscribed-message text-brand-grey-700 dark:text-brand-grey-400"},"Please click on the link present in the confirmation email to complete the subscription."))),this.state.err&&p("div",{className:"mt-2 text-red-600"},this.state.err))}})||c},w6So:function(e,t,s){"use strict";var o,r=s("q1tI"),a=s.n(r),n=s("8cHP"),i=s("slGX"),l=s("okNM"),c=s("rjjs"),d=s("onMf"),p=a.a.createElement;let m=Object(l.b)("postStore")(o=Object(l.b)("userStore")(o=Object(l.b)("nodeStore")(o=Object(l.c)(o=class extends a.a.Component{constructor(e,t){super(e,t),this.getPost=()=>{let e;switch(this.props.context){case"spp":e=this.props.postStore.post;break;case"nodeFeed":e=this.props.nodeStore.node.posts.filter(e=>e._id===this.props.post._id)[0];break;default:e=this.props.postStore.posts.filter(e=>e._id===this.props.post._id)[0]}return e},this.savePost=async e=>{if(e.preventDefault(),!this.props.userStore.currentUser){if(this.props.isPublicationPost)return this.props.goToPublicationLogin("bookmark");const e="?next="+window.location.pathname;return n.Router.pushRoute("/login"+e)}let t=this.getPost()||this.props.post;"spp"===this.props.context&&(t=Object.assign({},t));const s=t.bookmarkedIn.indexOf("SAVED");if(-1===s?t.bookmarkedIn.push("SAVED"):t.bookmarkedIn.splice(s,1),"spp"===this.props.context)this.props.postStore.post=t;else if("nodeFeed"===this.props.context){const e=this.props.nodeStore.node.posts.slice(0);for(let o=0;o<e.length;o++)if(e[o]._id===t._id){e[o]=t;break}const s=Object.assign({},this.props.nodeStore.node);s.posts=e,this.props.nodeStore.node=s}else{const e=this.props.postStore.posts.slice(0);for(let s=0;s<e.length;s++)if(e[s]._id===t._id){e[s]=t;break}this.props.postStore.posts=e}if(this.props.rerenderParent&&this.props.rerenderParent(),await this.props.postStore.savePost(t._id),t.bookmarkedIn.length>0){const e={user_id:this.props.userStore.currentUser._id,event_type:"bookmark_post",time:(new Date).getTime(),event_properties:{hostname:window.location.hostname,url:window.location.pathname,post:t._id,dateAdded:(new Date).getTime()}};Object(i.a)().sendEventToAmplitude(e)}}}render(){let e=!1;const t=this.getPost()||this.props.post;return t?(t.bookmarkedIn&&t.bookmarkedIn.length>0&&(e=-1!==t.bookmarkedIn.indexOf("SAVED")),p("button",{"data-title":"spp"===this.props.context?"Bookmark":"",title:e?"Unbookmark":"Bookmark",onClick:this.savePost,className:`btn-bookmark-spp button-transparent focus:outline-none ${e?"active":""} ${this.props.className} ${"spp"===this.props.context?"tooltip-handle":""}`},e?p(c.a,{className:"w-6 h-6 fill-current"}):p(d.a,{className:"w-6 h-6 opacity-75 fill-current"}))):null}})||o)||o)||o)||o;t.a=m},xhN0:function(e,t,s){"use strict";var o,r=s("q1tI"),a=s.n(r),n=s("8cHP"),i=s("Qi1R"),l=s("okNM"),c=s("BSJM"),d=s("kppC"),p=a.a.createElement;let m=Object(l.b)("postStore")(o=Object(l.b)("userStore")(o=Object(l.b)("themeStore")(o=Object(l.c)(o=class extends a.a.Component{constructor(e,t){super(e,t),this.assignOrRemoveReaction=e=>{e.preventDefault();const t=e.currentTarget.getAttribute("data-reaction-id"),s=this.state.reactions.filter(e=>e._id===t)[0];if(!this.props.userStore.currentUser){if(this.props.isPublicationPost)return this.props.goToPublicationLogin("react");const e="?next="+window.location.pathname;return n.Router.pushRoute("/login"+e)}let o=Object.assign({},this.props.postStore.post);const r=(o.reactionsByCurrentUser?o.reactionsByCurrentUser.map(e=>e.toString()):[]).indexOf(t);if(-1===r)o.reactionsByCurrentUser.unshift(t),o.totalReactions=o.totalReactions?o.totalReactions+1:1,"spp"===this.props.context&&(o.reactionToCountMap[`reaction_${t}`]=o.reactionToCountMap[`reaction_${t}`]?o.reactionToCountMap[`reaction_${t}`]+1:1),o.reactions&&o.reactions.length>0?-1===o.reactions.map(e=>e._id).indexOf(t)&&o.reactions.push(s):o.reactions=[s];else{o.reactionsByCurrentUser.splice(r,1),o.totalReactions--,o.reactionToCountMap[`reaction_${t}`]--;let e=-1;for(let s=0;s<o.reactions.length;s++)if(o.reactions[s]._id===t){e=s;break}-1!==e&&o.reactions.splice(e,1)}this.props.postStore.post=o,this.props.postStore.reactToPost(o._id,t)},this.handleReactionClick=e=>{if(!this.props.userStore.currentUser){const e="?next="+window.location.pathname;n.Router.pushRoute("/login"+e)}},this.showAvailableReactions=()=>{this.setState({showAvailableReactions:!0}),document.addEventListener("click",this.hideAvailableReactions),document.addEventListener("touchend",this.hideAvailableReactions)},this.hideAvailableReactions=e=>{this.reactionsTray&&!this.reactionsTray.contains(e.target)&&(e.preventDefault(),this.setState({showAvailableReactions:!1}),document.removeEventListener("click",this.hideAvailableReactions),document.removeEventListener("touchend",this.hideAvailableReactions))},this.onMouseOut=e=>{this.setState({currentReaction:""})},this.onMouseOver=e=>{const t=e.currentTarget.getAttribute("data-reaction-name");this.setState({currentReaction:t})},this.showUpvotersList=()=>{this.setState({showPeopleWhoUpvoted:!0},async()=>{if(this.state.showPeopleWhoUpvoted){const e=await this.props.postStore.fetchWhoLiked(this.props.postStore.post._id);this.setState({usersWhoLikedThisPost:e}),document.addEventListener("click",this.closeReactionModal)}})},this.closeReactionModal=e=>{this.reactionModal&&!this.reactionModal.contains(e.target)&&(this.setState({showPeopleWhoUpvoted:!1}),document.removeEventListener("click",this.closeReactionModal))},this.state={defaultReaction:i.g[0],reactions:this.getSortedReactions(),usersWhoLikedThisPost:[]}}componentWillReceiveProps(e){!this.props.dataFetchedFromOrigin&&e.dataFetchedFromOrigin&&this.setState({reactions:this.getSortedReactions()})}getSortedReactions(){let e=[];return i.g.forEach(t=>{const s=this.props.postStore.post.reactionToCountMap[`reaction_${t._id.toString()}`];e.push({reaction:t,count:s||0})}),e.sort((e,t)=>t.count-e.count),e=e.map(e=>e.reaction),e}render(){const e=this.props.postStore.post,t=this.props.userStore.currentUser,s=this.props.userStore.userInfoLoaded,o=e.reactionsByCurrentUser?e.reactionsByCurrentUser.map(e=>e.toString()):[],r=this.state.reactions.map(e=>p("div",{className:"w-16",key:e._id},p("button",{disabled:!!this.props.isPublicationPost&&!s,title:e.name,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,className:`button-transparent border ${-1!==o.indexOf(e._id)?"active border-brand-blue":""}`,onClick:this.assignOrRemoveReaction,"data-reaction-name":e.name,"data-reaction-id":e._id,key:e._id},p("div",{className:"flex flex-row items-center justify-center w-8",title:e.name},p("img",{src:e.image,className:"block w-full"})))));let a=[];"spp"===this.props.context&&(this.state.reactions.forEach(t=>{const s=e.reactionToCountMap[`reaction_${t._id.toString()}`];s>0&&a.push({reaction:t,count:s})}),a=a.map(t=>p("div",{className:"story"===this.props.postType?"xl:w-1/2 py-1 pr-2 md:pr-1":"p-1",key:t.reaction._id},p("button",{disabled:!!this.props.isPublicationPost&&!s,title:t.reaction.name,onClick:this.assignOrRemoveReaction,"data-reaction-id":t.reaction._id,className:`btn-reaction-spp button-transparent flex flex-row items-center w-full justify-center ${-1!==e.reactionsByCurrentUser.indexOf(t.reaction._id)?"active border border-brand-blue":""}`,title:t.reaction.name,key:t.reaction._id},p("span",{className:`mr-1 ${"discussion"===this.props.postType?"w-5":"w-8"}`},p("img",{src:t.reaction.image,className:"block w-full"})),p("span",{className:"font-semibold"},t.count)))));const n=Object.assign({},e.reactionToCountMap);for(let c in n)n[c]||delete n[c];const i=Object.keys(n).filter(e=>"any"!==e),l=this.state.usersWhoLikedThisPost.map(e=>p("div",{className:"relative m-1",key:e._id},p("a",{href:`https://hashnode.com/@${e.username}`,title:e.name,className:"block w-10 h-10 overflow-hidden border rounded-full dark:border-brand-grey-800"},p(d.a,{className:"block w-full",src:e.photo||"https://cdn.hashnode.com/res/hashnode/image/upload/v1600792675173/rY-APy9Fc.png?auto=compress",resize:{w:200,h:200,c:"face"}}))));return p("div",{className:"z-20 w-full xl:z-30"},p("div",{itemProp:"interactionStatistic",itemScope:!0,itemType:"https://schema.org/InteractionCounter",className:`flex flex-row flex-wrap relative ${this.state.showAvailableReactions&&""} ${"story"===this.props.postType?"w-full justify-center":""}`},p("meta",{itemProp:"interactionType",content:"LikeAction"}),p("meta",{itemProp:"userInteractionCount",content:this.props.postStore.post.totalReactions}),i.length<10&&p("div",{className:"relative "+("story"===this.props.postType?"xl:w-1/2 py-1 pr-1":"p-1")},p("button",{onClick:this.showAvailableReactions,className:"flex flex-row items-center justify-center w-full h-full btn-reaction-spp button-transparent"},p(c.a,{className:"flex-shrink-0 w-6 opacity-75 fill-current"}),0===i.length&&p("span",{className:"ml-2"},"Like")),this.state.showAvailableReactions&&p("div",{className:`absolute border top-100 ${"story"===this.props.postType?"left-0 md:right-0 md:left-auto":"left-0"} w-56 md:w-72 z-20 bg-white shadow-lg rounded-lg dark:bg-brand-dark-grey-900 dark:border-brand-grey-800 px-2 py-4`,ref:e=>{this.reactionsTray=e}},p("h4",{className:"mb-2 text-sm leading-tight text-gray-700 dark:text-brand-grey-400"},"Like this post with multiple emojis or just one:"),p("div",{className:"flex flex-row flex-wrap justify-center"},r))),a.length>0&&a),t&&"story"===e.type&&(t._id.toString()===e.author._id.toString()||"superuser"===t.role)&&t.isAmbassador&&e.totalReactions>0&&p("div",{ref:e=>{this.reactionModal=e},className:"relative z-10 flex flex-row items-center justify-center w-full mb-2 xl:mt-2"},p("button",{onClick:this.showUpvotersList,className:"flex flex-row items-center justify-center button-transparent"},e.totalReactions," reactions"),this.state.showPeopleWhoUpvoted&&p("div",{className:"absolute left-0 z-20 h-48 p-4 ml-5 overflow-auto bg-white border rounded-lg shadow-xl top-100 xl:top-0 xl:left-auto xl:ml-0 xl:right-100 dark:bg-brand-dark-grey-900 dark:border-brand-grey-800 w-72"},p("p",{className:"mb-2 text-sm font-medium text-brand-grey-700 dark:text-brand-grey-300"},"Users who reacted to your post"),p("div",{className:"flex flex-row flex-wrap items-start"},l))))}})||o)||o)||o)||o;t.a=m}},[["njBg",0,1,14,31,2,3,4,5,6,7,8,9,11,12,15,18,20,21,22,27,29,28,30,33,39]]]);